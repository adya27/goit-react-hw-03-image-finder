{"version":3,"sources":["Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","search","handleChange","e","currentTarget","name","value","setState","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","currentImg","showModal","handleClick","dataset","largesrc","onClick","webformatURL","largeImageURL","data-largesrc","src","alt","ImageGallery","data","match","map","image","id","modalRoot","document","querySelector","Modal","onKeyDown","closeModal","code","onClickOverlay","target","window","addEventListener","body","style","overflow","position","removeEventListener","createPortal","Button","loadMore","App","page","status","notify","toast","error","a","fetch","then","res","json","total","hits","toggleModal","prev","prevProps","prevState","scrollTo","top","behavior","documentElement","scrollHeight","color","height","width","timeout","length","PureComponent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ab1d88e4.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    search: \"\",\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.currentTarget;\r\n\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.search);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            name={\"search\"}\r\n            onChange={this.handleChange}\r\n            value={this.state.search}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    currentImg: \"\",\r\n    showModal: false,\r\n  };\r\n\r\n \r\n\r\n  handleClick = (e) => {\r\n    // console.log(e.currentTarget);\r\n    this.setState({ currentImg: e.currentTarget.dataset.largesrc });\r\n    // console.log(this.state.currentImg);\r\n    // this.toggleModal();\r\n    this.props.onClick(e.currentTarget.dataset.largesrc);\r\n  };\r\n\r\n  render() {\r\n    const { webformatURL, largeImageURL } = this.props;\r\n    return (\r\n      <li className=\"ImageGalleryItem\">\r\n        <img\r\n          onClick={this.handleClick}\r\n          data-largesrc={largeImageURL}\r\n          src={webformatURL}\r\n          alt=\"\"\r\n          className=\"ImageGalleryItem-image\"\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nclass ImageGallery extends Component {\r\n  //   console.log(match);\r\n  onClick = (data) => {\r\n    this.props.onClick(data);\r\n  };\r\n\r\n  render() {\r\n    const { match } = this.props;\r\n    return (\r\n      <ul className=\"ImageGallery\">\r\n        {match.map((image) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={image.id}\r\n              webformatURL={image.webformatURL}\r\n              largeImageURL={image.largeImageURL}\r\n              onClick={this.onClick}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n    document.body.style.overflow = \"hidden\";\r\n    document.body.style.position = \"fixed\";\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n    document.body.style.overflow = \"auto\";\r\n    document.body.style.position = \"static\";\r\n  }\r\n\r\n  onKeyDown = (e) => {\r\n    const { closeModal } = this.props;\r\n    if (e.code === \"Escape\") {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  onClickOverlay = (e) => {\r\n    const { closeModal } = this.props;\r\n\r\n    if (e.target === e.currentTarget) {\r\n      closeModal();\r\n    }\r\n  };\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n\r\n    return createPortal(\r\n      <div onClick={this.onClickOverlay} className=\"Overlay\">\r\n        <div className=\"Modal\">\r\n          <img src={largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","function Button({ loadMore }) {\r\n  return (\r\n    <button onClick={loadMore} className=\"Button\" type=\"button\">\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import \"./App.css\";\nimport \"./styles.css\";\nimport React, { PureComponent } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Button from \"./Components/Button/Button\";\n\nclass App extends PureComponent {\n  state = {\n    match: [],\n    showModal: false,\n    currentImg: \"\",\n    page: 1,\n    search: \"\",\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevStateSearch = prevState.search;\n    if (prevStateSearch !== this.state.search) {\n      this.setState({ page: 1 });\n\n      window.scrollTo({\n        top: 0,\n        behavior: \"smooth\",\n      });\n    } else if (\n      this.state.page !== 1 &&\n      prevState.showModal === this.state.showModal\n    ) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  notify = () => toast.error(\"Sorry, no matches :(\");\n\n  onSubmit = async (data) => {\n    await this.setState({ status: \"pending\" });\n    await this.setState({ search: data });\n    await fetch(\n      `https://pixabay.com/api/?key=17537629-2ee3a1e1cfb1c48a1e1039472&q=${data}&image_type=photo&pretty=true&page=1&per_page=${\n        this.state.page * 12\n      }`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.total === 0) {\n          this.setState({ status: \"rejected\" });\n          this.notify();\n        }\n        return data;\n      })\n      .then((data) => this.setState({ match: data.hits }));\n    await this.setState({ status: \"idle\" });\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  loadMore = async () => {\n    await this.setState((prev) => {\n      return { page: prev.page + 1 };\n    });\n    await this.onSubmit(this.state.search);\n  };\n\n  onClick = (data) => {\n    this.setState({ currentImg: data });\n    this.toggleModal();\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onSubmit} />\n\n        <ToastContainer />\n\n        <ImageGallery onClick={this.onClick} match={this.state.match} />\n\n        {this.state.status === \"pending\" && (\n          <Loader\n            type=\"Puff\"\n            color=\"#00BFFF\"\n            height={100}\n            width={100}\n            timeout={3000} //3 secs\n          />\n        )}\n\n        {this.state.showModal && (\n          <Modal\n            closeModal={this.toggleModal}\n            largeImageURL={this.state.currentImg}\n          />\n        )}\n        {this.state.match.length % 12 === 0 &&\n          this.state.match.length !== 0 &&\n          this.state.status !== \"pending\" && (\n            <Button loadMore={this.loadMore} />\n          )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}